{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst loader = document.querySelector('.loader');\n\nexport function showLoader() {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n\nexport function performSearch(searchQuery) {\n  const API_KEY = '44758497-ea11318ae0823ef09cb8fbdb5';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    searchQuery\n  )}&image_type=photo`;\n  return fetch(URL);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const gallery = document.querySelector('#gallery');\n  if (!gallery) {\n    console.error('Елемент #gallery не знайдений в DOM.');\n    return;\n  }\n\n  if (images.length === 0) {\n    gallery.innerHTML = '<p>Нічого не знайдено.</p>';\n    return;\n  }\n\n  const markup = images\n    .map(image => {\n      return `\n      <div class=\"image-card\">\n            <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" /></a>\n            <div class=\"image-text\">\n        <p>likes: ${image.likes}</p>\n        <p>views: ${image.views}</p>\n        <p>comments: ${image.comments}</p>\n        <p>downloads: ${image.downloads}</p>\n        </div>\n      </div>\n    `;\n    })\n    .join('');\n\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\nconst lightbox = new SimpleLightbox('.image-card a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  navText: ['&larr;', '&rarr;'],\n  closeText: '&times;',\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\n\nimport { performSearch, showLoader, hideLoader } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions';\n\nconst searchForm = document.querySelector('#search-form');\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const formData = new FormData(event.target);\n  const searchQuery = formData.get('query');\n\n  if (searchQuery && searchQuery.trim()) {\n    showLoader();\n    performSearch(searchQuery.trim())\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Не вдалося виконати запит.');\n        }\n        return response.json();\n      })\n      .then(data => {\n        hideLoader();\n        if (data.totalHits > 0) {\n          iziToast.show({\n            position: 'topRight',\n            backgroundColor: 'green',\n            message: `Found ${data.totalHits} results.`,\n          });\n          return data.hits;\n        } else {\n          iziToast.show({\n            position: 'topRight',\n            backgroundColor: 'red',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n          return [];\n        }\n      })\n      .then(results => {\n        console.log(results);\n        renderImages(results);\n      })\n      .catch(error => {\n        hideLoader(),\n          iziToast.show({\n            position: 'topRight',\n            backgroundColor: 'red',\n            message: 'Error during the request. Please try again later.',\n          });\n        throw error;\n      });\n  } else {\n    iziToast.show({\n      position: 'center',\n      backgroundColor: 'orange',\n      message: 'Будь ласка, введіть пошуковий запит.',\n    });\n  }\n});\n"],"names":["loader","showLoader","hideLoader","performSearch","searchQuery","URL","renderImages","images","gallery","markup","image","lightbox","SimpleLightbox","searchForm","event","response","data","iziToast","results","error"],"mappings":"wvBACA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CAC3BD,EAAO,MAAM,QAAU,OACzB,CAEO,SAASE,GAAa,CAC3BF,EAAO,MAAM,QAAU,MACzB,CAEO,SAASG,EAAcC,EAAa,CAEzC,MAAMC,EAAM,qEAA6C,mBACvDD,CACD,CAAA,oBACD,OAAO,MAAMC,CAAG,CAClB,CCdO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,GAAI,CAACA,EAAS,CACZ,QAAQ,MAAM,sCAAsC,EACpD,MACD,CAED,GAAID,EAAO,SAAW,EAAG,CACvBC,EAAQ,UAAY,6BACpB,MACD,CAED,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA;AAAA,uBAEUA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,oBAE3EA,EAAM,KAAK;AAAA,oBACXA,EAAM,KAAK;AAAA,uBACRA,EAAM,QAAQ;AAAA,wBACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAIlC,EACA,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EACpBE,EAAS,QAAO,CAClB,CACA,MAAMA,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,QAAS,CAAC,SAAU,QAAQ,EAC5B,UAAW,SACb,CAAC,EChCKC,EAAa,SAAS,cAAc,cAAc,EACxDA,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMV,EADW,IAAI,SAASU,EAAM,MAAM,EACb,IAAI,OAAO,EAEpCV,GAAeA,EAAY,QAC7BH,IACAE,EAAcC,EAAY,MAAM,EAC7B,KAAKW,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,4BAA4B,EAE9C,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,IACJd,IACIc,EAAK,UAAY,GACnBC,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,QACjB,QAAS,SAASD,EAAK,SAAS,WAC5C,CAAW,EACMA,EAAK,OAEZC,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,MACjB,QACE,0EACd,CAAW,EACM,IAEV,EACA,KAAKC,GAAW,CACf,QAAQ,IAAIA,CAAO,EACnBZ,EAAaY,CAAO,CAC5B,CAAO,EACA,MAAMC,GAAS,CACd,MAAAjB,EAAY,EACVe,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,MACjB,QAAS,mDACrB,CAAW,EACGE,CACd,CAAO,GAEHF,EAAS,KAAK,CACZ,SAAU,SACV,gBAAiB,SACjB,QAAS,sCACf,CAAK,CAEL,CAAC"}